{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gc/Desktop/full%20stack/frontend/app/page.tsx"],"sourcesContent":["\"use client\"\nimport { useState, useEffect } from \"react\";\n\nexport default function Home() {\n  const [task, setTask] = useState(\"\");\n  const [todos, setTodos] = useState<any[]>([]);\n  const [editingId, setEditingId] = useState<number | null>(null);\n  const [image, setImage] = useState<string | null>(null); \n  const [imageLink, setImageLink] = useState(\"\");\n\n  // âœ… Fetch todos\n  const fetchTodos = () => {\n    fetch(\"http://localhost:3001/todos\")\n      .then(res => res.json())\n      .then(data => setTodos(Array.isArray(data) ? data : []));\n  };\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  // âœ… Convert file to Base64\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImage(reader.result as string); \n    };\n    reader.readAsDataURL(file);\n  };\n\n  // âœ… Add or Update todo\n  const handleSubmit = () => {\n    if (!task) return;\n\n    if (editingId) {\n      // ðŸ‘‰ Update existing\n      const todo = todos.find(t => t.id === editingId);\n      if (!todo) return;\n\n      fetch(`http://localhost:3001/todos/${editingId}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          id: editingId,\n          task: task,\n          completed: todo.completed,\n          image: imageLink || image || todo.image\n        })\n      }).then(() => {\n        resetForm();\n        fetchTodos();\n      });\n\n    } else {\n      // ðŸ‘‰ Add new\n      fetch(\"http://localhost:3001/todos\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          id: Date.now(),\n          task: task,\n          completed: false,\n          image: imageLink || image\n        })\n      }).then(() => {\n        resetForm();\n        fetchTodos();\n      });\n    }\n  };\n\n  // âœ… Delete todo\n  const handleDelete = (id: number) => {\n    fetch(`http://localhost:3001/todos/${id}`, { method: \"DELETE\" })\n      .then(() => fetchTodos());\n  };\n\n  // âœ… Toggle completed\n  const handleToggle = (id: number) => {\n    fetch(`http://localhost:3001/todos/${id}/toggle`, { method: \"PUT\" })\n      .then(() => fetchTodos());\n  };\n\n  // âœ… Start editing\n  const handleEdit = (t: any) => {\n    setEditingId(t.id);\n    setTask(t.task);\n    setImage(t.image || null);\n    setImageLink(t.image || \"\");\n  };\n\n  // âœ… Search / Filter todos\n  const handlefilter = (e: any) => {\n    const search = e.target.value;\n    if (search.trim() === \"\") {\n      // agar input empty ho to sab todos wapas le aao\n      fetch(\"http://localhost:3001/todos\")\n        .then(res => res.json())\n        .then(data => setTodos(Array.isArray(data) ? data : []));\n      return;\n    }\n\n    fetch(`http://localhost:3001/todos/search/${search}`)\n      .then(res => res.json())\n      .then(data => {\n        if (Array.isArray(data)) {\n          setTodos(data);\n        } else {\n          setTodos([]);  // agar galti se object aya\n        }\n      });\n  }; // ðŸ”´ yaha closing bracket zaroori tha\n\n  // âœ… Reset form after add/update\n  const resetForm = () => {\n    setTask(\"\");\n    setImage(null);\n    setImageLink(\"\");\n    setEditingId(null);\n  };\n\n  return (\n    <div className=\"p-6 bg-gray-900 min-h-screen  text-white\">\n      <h1 className=\"text-3xl font-bold mb-4 text-center\">My Fullstack Todo App</h1>\n      {/* ðŸ”¹ Add / Edit Form */}\n      <div className=\"flex flex-col space-y-2 mb-4 border p-4 rounded\">\n        <div className=\"flex space-x-3\"> \n          <input\n            value={task}\n            onChange={(e) => setTask(e.target.value)}\n            type=\"text\"\n            placeholder=\"Enter todo...\"\n            className=\"border border-gray-300 rounded p-2\"\n          />\n\n          <input\n            value={imageLink}\n            onChange={(e) => setImageLink(e.target.value)}\n            type=\"text\"\n            placeholder=\"Image link (optional)\"\n            className=\"border border-gray-300 rounded p-2\"\n          />\n\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleFileChange}\n            className=\"border border-gray-300 p-1\"\n          />\n        </div>\n\n        {/* Preview selected image */}\n        {(imageLink || image) && (\n          <img\n            src={imageLink || image || \"\"}\n            alt=\"preview\"\n            className=\"w-52 h-52 object-cover rounded\"\n          />\n        )}\n\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={handleSubmit}\n            className={`${\n              editingId ? \"bg-blue-500\" : \"bg-blue-500\"\n            } text-white px-4 py-2 rounded`}\n          >\n            {editingId ? \"Update Todo\" : \"Add Todo\"}\n          </button>\n          {editingId && (\n            <button\n              onClick={resetForm}\n              className=\"bg-gray-400 text-white px-4 py-2 rounded\"\n            >\n              Cancel\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* ðŸ”¹ Filter */}\n      <div className=\"mx-auto mb-4\">\n        <h1 className=\"text-2xl mb-4\">Todo List filter</h1>\n        <input\n          onChange={handlefilter}\n          type=\"text\"\n          placeholder=\"Search todos...\"\n          className=\"border border-gray-300 rounded p-2  \"\n        />\n      </div>\n\n      {/* ðŸ”¹ Todo list */}\n      <ul className=\"space-y-2\">\n        {todos.map((t) => (\n          <li\n            key={t.id}\n            className=\"flex justify-between items-center border p-2 rounded\"\n          >\n            <div className=\"flex items-center space-x-3 flex-1\">\n              {t.image && (\n                <img\n                  src={t.image}\n                  alt=\"todo\"\n                  className=\"w-12 h-12 object-cover rounded\"\n                />\n              )}\n              <span\n                onClick={() => handleToggle(t.id)}\n                className={`cursor-pointer flex-1 ${\n                  t.completed ? \"line-through text-gray-500\" : \"\"\n                }`}\n              >\n                {t.task}\n              </span>\n            </div>\n\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={() => handleEdit(t)}\n                className=\"bg-yellow-500 text-white px-2 rounded\"\n              >\n                Edit\n              </button>\n              <button\n                onClick={() => handleDelete(t.id)}\n                className=\"bg-red-500 text-white px-2 rounded\"\n              >\n                Delete\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gc/Desktop/full%20stack/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gc/Desktop/full%20stack/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gc/Desktop/full%20stack/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}